{% extends 'base.html' %}
{% load static %}
{% load i18n %}
{% block content %}
  {% include 'list/breadcrumb_hx.html' %}
  <script type="text/javascript" src="{% static 'htmx.min.js' %}"></script>
  <section class="py-12">
    <div class="container max-w-screen-xl mx-auto px-4">
      <div class="flex flex-col md:flex-row -mx-4">
        <aside class="md:w-1/3 lg:w-1/4 px-4">
          <div class="hidden md:block px-6 py-4 border border-gray-200 bg-white rounded shadow-sm">
            <h3 class="font-semibold mb-2">{% trans "Product Categories" %} {{ request.session.current_category }}
            </h3>
            {% include 'list/categories_hx.html' %}
            <hr class="my-4">
            <h3 class="font-semibold mb-2">{% trans "Sort by" %}</h3>
            <ul class="text-gray-500 space-y-1">
              {% for option in order_by_options %}
                <li>
                  <a class="hover:text-blue-600 hover:underline
                                {% if option.field_name == current_order_by %}text-blue-900 font-bold{% else %}{% endif %}"
                     href="#"
                     hx-get="{% url 'site:products:search' %}"
                     hx-vals='{"category": "{{ current_category.slug }}", "order_by": "{{ option.field_name }}", "page": "{{ page_obj.number }}"}'
                     hx-target="#items"
                     hx-swap="outerHTML">
                    {{ option.show_name }}
                  </a>
                </li>
              {% endfor %}
            </ul>
          </div>
          <!-- filter wrap -->

        </aside> <!-- col.// -->
        <section class="md:w-2/3 lg:w-3/4 px-4">
          {% include 'list/items_hx.html' %}
        </section>

      </div> <!-- grid.// -->
    </div> <!-- container .// -->
  </section>

{% endblock %}
